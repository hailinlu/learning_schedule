## V8垃圾回收机制

    Node在Javascript的执行上直接受益于V8，可以随着V8的升级享受更好的性能或新的语言特性，但同时也会受到V8的一些限制。

### V8内存限制
    
        Node无法进行大内存对象操作，尽管大部分情况下这种情况并不多见，但是根据《深入浅出Node.js》中所述，Node通过JS使用内存时仅能使用部分内存。
    这个问题其实也是因为Node是基于V8引擎构建的。

### V8对象分配
    
        V8中，JS对象的内存是通过堆来进行分配的。可以通过process.memoryUsage()查看内存。之所以V8会对内存进行限制，超过限制的话，V8进行堆内存的垃圾回收会使应用的性能和响应能力直线下降。
    当然限制也是可以打开的，具体方式如下：

```
    node --max-old-space-size=1700 test.js
```

### 垃圾回收机制
        
    V8的内存分代：分为新生代和老生代两代。新生代的对象为存活时间较短的对象，老生代的对象为存活时间较长或常驻内存对象
    
#### Scavenge算法
    
        V8的新生代对象主要通过Scavenge算法的Cheney算法进行垃圾回收。Cheney算法是通过复制的方式实现的垃圾回收。
    简单来说，就是将内存空间一分为二，一个处于使用状态（From空间），一个处于闲置状态（To空间）。